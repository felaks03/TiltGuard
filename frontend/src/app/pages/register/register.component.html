<div class="register-container">
    <div class="register-card">
        <h1>Crear Cuenta</h1>
        <p class="subtitle">Únete a TiltGuard hoy</p>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <!-- Campo Nombre -->
            <div class="form-group">
                <label for="nombre">Nombre Completo</label>
                <input id="nombre" type="text" formControlName="nombre" placeholder="Tu nombre completo"
                    class="form-input"
                    [class.error]="hasError('nombre', 'required') || hasError('nombre', 'minlength')" />
                <div class="error-message" *ngIf="hasError('nombre', 'required')">
                    El nombre es requerido
                </div>
                <div class="error-message" *ngIf="hasError('nombre', 'minlength')">
                    El nombre debe tener al menos 2 caracteres
                </div>
            </div>

            <!-- Campo Email -->
            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="email" formControlName="email" placeholder="tu@email.com" class="form-input"
                    [class.error]="hasError('email', 'required') || hasError('email', 'email')" />
                <div class="error-message" *ngIf="hasError('email', 'required')">
                    El email es requerido
                </div>
                <div class="error-message" *ngIf="hasError('email', 'email')">
                    El email debe ser válido
                </div>
            </div>

            <!-- Campo Contraseña -->
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input id="password" type="password" formControlName="password" placeholder="Mínimo 6 caracteres"
                    class="form-input"
                    [class.error]="hasError('password', 'required') || hasError('password', 'minlength')" />
                <div class="error-message" *ngIf="hasError('password', 'required')">
                    La contraseña es requerida
                </div>
                <div class="error-message" *ngIf="hasError('password', 'minlength')">
                    La contraseña debe tener al menos 6 caracteres
                </div>
            </div>

            <!-- Campo Confirmar Contraseña -->
            <div class="form-group">
                <label for="passwordConfirm">Confirmar Contraseña</label>
                <input id="passwordConfirm" type="password" formControlName="passwordConfirm"
                    placeholder="Repite tu contraseña" class="form-input" [class.error]="passwordMismatch()" />
                <div class="error-message" *ngIf="passwordMismatch()">
                    Las contraseñas no coinciden
                </div>
            </div>

            <!-- Mensaje de Error -->
            <div class="error-box" *ngIf="errorMessage">
                {{ errorMessage }}
            </div>

            <!-- Mensaje de Éxito -->
            <div class="success-box" *ngIf="successMessage">
                {{ successMessage }}
            </div>

            <!-- Botón Submit -->
            <button type="submit" class="btn-submit" [disabled]="registerForm.invalid || isLoading">
                {{ isLoading ? 'Registrando...' : 'Registrarse' }}
            </button>
        </form>

        <!-- Link a Login -->
        <p class="login-link">
            ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión aquí</a>
        </p>
    </div>
</div>