<div class="login-container">
    <div class="login-card">
        <h1>Inicia Sesión</h1>
        <p class="subtitle">Accede a tu cuenta de TiltGuard</p>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <!-- Campo Email -->
            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="email" formControlName="email" placeholder="tu@email.com" class="form-input"
                    [class.error]="hasError('email', 'required') || hasError('email', 'email')" />
                <div class="error-message" *ngIf="hasError('email', 'required')">
                    El email es requerido
                </div>
                <div class="error-message" *ngIf="hasError('email', 'email')">
                    El email debe ser válido
                </div>
            </div>

            <!-- Campo Contraseña -->
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input id="password" type="password" formControlName="password" placeholder="Tu contraseña"
                    class="form-input"
                    [class.error]="hasError('password', 'required') || hasError('password', 'minlength')" />
                <div class="error-message" *ngIf="hasError('password', 'required')">
                    La contraseña es requerida
                </div>
                <div class="error-message" *ngIf="hasError('password', 'minlength')">
                    La contraseña debe tener al menos 6 caracteres
                </div>
            </div>

            <!-- Mensaje de Error General -->
            <div class="error-box" *ngIf="errorMessage">
                {{ errorMessage }}
            </div>

            <!-- Botón Submit -->
            <button type="submit" class="btn-submit" [disabled]="loginForm.invalid || isLoading">
                {{ isLoading ? 'Iniciando sesión...' : 'Iniciar Sesión' }}
            </button>
        </form>

        <!-- Link a Registro -->
        <p class="register-link">
            ¿No tienes cuenta? <a routerLink="/register">Regístrate aquí</a>
        </p>
    </div>
</div>