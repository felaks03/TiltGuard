<!-- DEPRECADO - Usar ../userlist/user.component.html en su lugar -->

<h1>Usuarios</h1>

<div *ngIf="error" class="error">
    <p>{{ error }}</p>
</div>

<div *ngIf="!error && usuarios.length > 0" class="usuarios-lista">
    <div class="usuario-item" *ngFor="let usuario of usuarios">
        <div class="usuario-info">
            <div class="usuario-nombre">{{ usuario.nombre }}</div>
            <div class="usuario-email">{{ usuario.email }}</div>
            <span class="usuario-rol" [class.admin]="usuario.rol === 'admin'"
                [class.usuario]="usuario.rol === 'usuario'">
                {{ usuario.rol }}
            </span>
            <span class="usuario-estado" [class.activo]="usuario.activo" [class.inactivo]="!usuario.activo">
                {{ usuario.activo ? "Activo" : "Inactivo" }}
            </span>
        </div>
        <div class="usuario-menu-container">
            <button class="menu-btn" (click)="toggleMenu(usuario._id, $event)" title="Opciones">
                <span class="menu-dots">â‹®</span>
            </button>
            <div class="menu-dropdown" *ngIf="menuAbiertoId === usuario._id" (click)="$event.stopPropagation()">
                <button class="menu-item" (click)="editar(usuario)">
                    <span class="icon">âœï¸</span> Editar
                </button>
                <button class="menu-item" (click)="cambiarEstado(usuario)">
                    <span class="icon">ğŸ”„</span> Cambiar estado
                </button>
                <button class="menu-item delete" (click)="eliminar(usuario)">
                    <span class="icon">ğŸ—‘ï¸</span> Eliminar
                </button>
            </div>
        </div>
    </div>
</div>

<div *ngIf="!error && usuarios.length === 0" class="no-usuarios">
    <p>No hay usuarios registrados</p>
</div>
</div>